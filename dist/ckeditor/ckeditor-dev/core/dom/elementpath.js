/*
 Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 For licensing, see LICENSE.md or http://ckeditor.com/license
*/
(function(){var b={},g={},a;for(a in CKEDITOR.dtd.$blockLimit)a in CKEDITOR.dtd.$list||(b[a]=1);for(a in CKEDITOR.dtd.$block)a in CKEDITOR.dtd.$blockLimit||a in CKEDITOR.dtd.$empty||(g[a]=1);CKEDITOR.dom.elementPath=function(a,d){var f=null,h=null,m=[],c=a,e;d=d||a.getDocument().getBody();c||(c=d);do if(c.type==CKEDITOR.NODE_ELEMENT){m.push(c);if(!this.lastElement&&(this.lastElement=c,c.is(CKEDITOR.dtd.$object)||"false"==c.getAttribute("contenteditable")))continue;if(c.equals(d))break;if(!h&&(e=c.getName(),
"true"==c.getAttribute("contenteditable")?h=c:!f&&g[e]&&(f=c),b[e])){if(e=!f&&"div"==e){a:{e=c.getChildren();for(var l=0,p=e.count();l<p;l++){var n=e.getItem(l);if(n.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$block[n.getName()]){e=!0;break a}}e=!1}e=!e}e?f=c:h=c}}while(c=c.getParent());h||(h=d);this.block=f;this.blockLimit=h;this.root=d;this.elements=m}})();
CKEDITOR.dom.elementPath.prototype={compare:function(b){var g=this.elements;b=b&&b.elements;if(!b||g.length!=b.length)return!1;for(var a=0;a<g.length;a++)if(!g[a].equals(b[a]))return!1;return!0},contains:function(b,g,a){var k=0,d;"string"==typeof b&&(d=function(a){return a.getName()==b});b instanceof CKEDITOR.dom.element?d=function(a){return a.equals(b)}:CKEDITOR.tools.isArray(b)?d=function(a){return-1<CKEDITOR.tools.indexOf(b,a.getName())}:"function"==typeof b?d=b:"object"==typeof b&&(d=function(a){return a.getName()in
b});var f=this.elements,h=f.length;g&&(a?k+=1:--h);a&&(f=Array.prototype.slice.call(f,0),f.reverse());for(;k<h;k++)if(d(f[k]))return f[k];return null},isContextFor:function(b){var g;return b in CKEDITOR.dtd.$block?(g=this.contains(CKEDITOR.dtd.$intermediate)||this.root.equals(this.block)&&this.block||this.blockLimit,!!g.getDtd()[b]):!0},direction:function(){return(this.block||this.blockLimit||this.root).getDirection(1)}};